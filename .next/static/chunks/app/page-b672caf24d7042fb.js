(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{298:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Q});var n=a(5155),r=a(2115);let i=e=>(0,n.jsxs)("svg",{viewBox:"0 0 20 20",fill:"currentColor",...e,children:[(0,n.jsx)("path",{d:"M 2.5,12 C 2.5,9.5 6,8 10,8 C 14,8 17.5,9.5 17.5,12 C 17.5,14.5 14,16 10,16 C 6,16 2.5,14.5 2.5,12 Z"}),(0,n.jsx)("path",{d:"M 7,8 A 3,3.5 0 0 1 13,8 Z",stroke:"hsl(var(--background))",strokeWidth:"1.5"})]}),l=e=>(0,n.jsx)("svg",{viewBox:"0 0 20 20",fill:"currentColor",...e,children:(0,n.jsx)("path",{d:"M10 2 L18 10 L15 18 L10 16 L5 18 L2 10 Z"})}),s=e=>(0,n.jsx)("svg",{viewBox:"0 0 20 20",fill:"currentColor",...e,children:(0,n.jsx)("path",{d:"M10 1 L19 6 L16 19 L4 19 L1 6 Z"})}),o=e=>(0,n.jsx)("svg",{viewBox:"0 0 20 20",fill:"currentColor",...e,children:(0,n.jsx)("path",{d:"M4 2 L16 2 L18 8 L16 18 L4 18 L2 8 Z"})}),d=e=>(0,n.jsxs)("svg",{viewBox:"0 0 24 24",fill:"currentColor",...e,children:[(0,n.jsx)("path",{d:"M12 2l1.45 4.47L18 7.35l-3.22 3.14.76 4.43L12 12.5l-3.54 2.42.76-4.43L4 7.35l4.55-.88L12 2z"}),(0,n.jsx)("path",{d:"M12 12.5l3.54 2.42-.76 4.43L12 16.5l-3.54 2.85.76-4.43L4 14.65l4.55-.88L12 12.5z",stroke:"hsl(var(--accent))",strokeWidth:"1"})]}),c=e=>(0,n.jsx)("svg",{viewBox:"0 0 20 20",fill:"currentColor",...e,children:(0,n.jsx)("path",{d:"M10 2 L18 5 L18 15 L10 18 L2 15 L2 5 Z"})}),u=e=>(0,n.jsx)("svg",{viewBox:"0 0 20 20",fill:"currentColor",...e,children:(0,n.jsx)("path",{d:"M10 1 L19 5 L16 19 L4 19 L1 5 Z"})}),x=e=>(0,n.jsx)("svg",{viewBox:"0 0 20 20",fill:"currentColor",...e,children:(0,n.jsx)("path",{d:"M10 3L12.35 7.65L17 8.3L13.5 11.5L14.29 16L10 13.5L5.71 16L6.5 11.5L3 8.3L7.65 7.65L10 3Z"})}),h=e=>(0,n.jsx)("svg",{viewBox:"0 0 20 20",fill:"currentColor",...e,children:(0,n.jsx)("path",{d:"M10 2 L12 8 L18 8 L13 11 L15 17 L10 14 L5 17 L7 11 L2 8 L8 8 Z"})}),m=e=>(0,n.jsx)("svg",{viewBox:"0 0 20 20",fill:"currentColor",...e,children:(0,n.jsx)("path",{d:"M10 2 C4 2, 4 8, 4 10 C4 15, 10 18, 10 18 C10 18, 16 15, 16 10 C16 8, 16 2, 10 2 Z"})});var p=a(9434);let y=e=>{let{x:t,y:a,width:r,height:i}=e;return(0,n.jsxs)("div",{style:{left:t,top:a,width:r,height:i},className:"absolute flex items-center justify-center",children:[(0,n.jsx)("div",{className:"absolute w-full h-full bg-yellow-400 rounded-full animate-ping [animation-duration:0.3s]"}),(0,n.jsx)("div",{className:"absolute w-3/4 h-3/4 bg-orange-500 rounded-full animate-ping [animation-duration:0.3s] [animation-delay:0.05s]"}),(0,n.jsx)("div",{className:"absolute w-1/2 h-1/2 bg-red-600 rounded-full animate-ping [animation-duration:0.3s] [animation-delay:0.1s]"})]})},f=e=>{let{health:t,maxHealth:a}=e;return(0,n.jsx)("div",{className:"w-full h-1.5 bg-gray-700 rounded-full mt-1",children:(0,n.jsx)("div",{className:"h-1.5 rounded-full bg-primary",style:{width:"".concat(t/a*100,"%")}})})},w=e=>{let{powerUp:t}=e,a={EXTRA_LIFE:(0,n.jsx)(x,{className:"text-accent"}),FAST_SHOT:(0,n.jsx)(h,{className:"text-yellow-400"}),SHIELD:(0,n.jsx)(m,{className:"text-blue-400"})};return(0,n.jsx)("div",{className:"animate-pulse",style:{position:"absolute",left:t.x,top:t.y,width:t.width,height:t.height},children:a[t.type]})};function g(e){let{player:t,playerShots:a,opponents:r,enemyShots:x,explosions:h,powerUps:m,isInvincible:g}=e;return(0,n.jsxs)("div",{className:"relative bg-black border-2 border-primary shadow-[0_0_15px] shadow-primary/50 overflow-hidden",style:{width:800,height:600},children:[(0,n.jsxs)("div",{className:(0,p.cn)("text-accent transition-opacity duration-150",g&&"animate-pulse opacity-50"),style:{position:"absolute",left:t.x,top:t.y,width:t.width,height:t.height},children:[(0,n.jsx)(i,{}),g&&(0,n.jsx)("div",{className:"absolute -inset-1.5 rounded-full border-2 border-blue-400 animate-pulse"})]}),a.map(e=>(0,n.jsx)("div",{className:"bg-accent shadow-[0_0_8px] shadow-accent",style:{position:"absolute",left:e.x,top:e.y,width:e.width,height:e.height,borderRadius:"2px"}},e.id)),r.map(e=>(0,n.jsxs)("div",{className:"text-primary",style:{position:"absolute",left:e.x,top:e.y,width:e.width,height:e.height},children:["pentagon"===e.type?(0,n.jsx)(s,{}):"square"===e.type?(0,n.jsx)(o,{}):"boss"===e.type?(0,n.jsx)(d,{}):"octagon"===e.type?(0,n.jsx)(c,{}):"hexagon"===e.type?(0,n.jsx)(u,{}):(0,n.jsx)(l,{}),e.health&&e.health>1&&(0,n.jsx)(f,{health:e.health,maxHealth:"pentagon"===e.type?3:"square"===e.type?5:"boss"===e.type?10:"octagon"===e.type?15:"hexagon"===e.type?20:1})]},e.id)),x.map(e=>(0,n.jsx)("div",{className:"bg-primary shadow-[0_0_8px] shadow-primary",style:{position:"absolute",left:e.x,top:e.y,width:e.width,height:e.height,borderRadius:"2px"}},e.id)),h.map(e=>(0,n.jsx)(y,{x:e.x,y:e.y,width:e.width,height:e.height},e.id)),m.map(e=>(0,n.jsx)(w,{powerUp:e},e.id))]})}var v=a(157);let j=(0,v.A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),b=(0,v.A)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),T=(0,v.A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),A=(0,v.A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),C=(0,v.A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);function N(e){let{score:t,lives:a,timeLeft:r,powerUpActive:i=!1,shieldActive:l=!1}=e;return(0,n.jsxs)("div",{className:"absolute top-0 left-0 right-0 z-10 p-4 flex justify-between items-center text-lg md:text-2xl pointer-events-none",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 text-primary",children:[(0,n.jsx)(j,{className:"w-5 h-5 md:w-7 md:h-7 fill-primary"}),(0,n.jsx)("span",{className:"font-code tracking-widest",children:t.toString().padStart(6,"0")})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-primary",children:[(0,n.jsx)(b,{className:"w-5 h-5 md:w-7 md:h-7"}),(0,n.jsx)("span",{className:"font-code tracking-widest",children:r.toString().padStart(2,"0")})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[i&&(0,n.jsxs)("div",{className:"flex items-center gap-2 text-yellow-400 animate-pulse",children:[(0,n.jsx)(T,{className:"w-5 h-5 md:w-7 md:h-7 fill-yellow-400"}),(0,n.jsx)("span",{className:"font-code text-sm hidden md:inline",children:"FAST SHOT!"})]}),l&&(0,n.jsxs)("div",{className:"flex items-center gap-2 text-blue-400 animate-pulse",children:[(0,n.jsx)(A,{className:"w-5 h-5 md:w-7 md:h-7 fill-blue-400"}),(0,n.jsx)("span",{className:"font-code text-sm hidden md:inline",children:"SHIELD!"})]}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:Array.from({length:3}).map((e,t)=>(0,n.jsx)(C,{className:"w-5 h-5 md:w-7 md:h-7 transition-colors ".concat(t<a?"text-accent fill-accent":"text-gray-600 fill-gray-600")},t))})]})]})}function k(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var L=function(e){let t=function(e){let t=r.forwardRef((e,t)=>{let{children:a,...n}=e;if(r.isValidElement(a)){var i;let e,l,s=(i=a,(l=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(l=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),o=function(e,t){let a={...t};for(let n in t){let r=e[n],i=t[n];/^on[A-Z]/.test(n)?r&&i?a[n]=(...e)=>{let t=i(...e);return r(...e),t}:r&&(a[n]=r):"style"===n?a[n]={...r,...i}:"className"===n&&(a[n]=[r,i].filter(Boolean).join(" "))}return{...e,...a}}(n,a.props);return a.type!==r.Fragment&&(o.ref=t?function(...e){return t=>{let a=!1,n=e.map(e=>{let n=k(e,t);return a||"function"!=typeof n||(a=!0),n});if(a)return()=>{for(let t=0;t<n.length;t++){let a=n[t];"function"==typeof a?a():k(e[t],null)}}}}(t,s):s),r.cloneElement(a,o)}return r.Children.count(a)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),a=r.forwardRef((e,a)=>{let{children:i,...l}=e,s=r.Children.toArray(i),o=s.find(S);if(o){let e=o.props.children,i=s.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t,{...l,ref:a,children:r.isValidElement(e)?r.cloneElement(e,void 0,i):null})}return(0,n.jsx)(t,{...l,ref:a,children:i})});return a.displayName=`${e}.Slot`,a}("Slot"),q=Symbol("radix.slottable");function S(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===q}let _=(0,a(2085).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),E=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:l=!1,...s}=e;return(0,n.jsx)(l?L:"button",{className:(0,p.cn)(_({variant:r,size:i,className:a})),ref:t,...s})});function R(e){let{onStart:t}=e;return(0,n.jsxs)("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center z-20 gap-8 text-center p-4",children:[(0,n.jsx)("h1",{className:"text-5xl md:text-7xl text-primary drop-shadow-[0_0_10px_hsl(var(--primary))] animate-pulse",children:"Star Defender"}),(0,n.jsx)("h2",{className:"text-3xl md:text-4xl text-accent drop-shadow-[0_0_10px_hsl(var(--accent))]",children:"Evolution"}),(0,n.jsx)(E,{onClick:t,size:"lg",className:"text-2xl px-8 py-6 mt-4",children:"Start Game"})]})}function V(e){let{score:t,onRestart:a}=e;return(0,n.jsxs)("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center z-20 gap-6 text-center p-4",children:[(0,n.jsx)("h1",{className:"text-6xl md:text-8xl text-destructive drop-shadow-[0_0_10px_hsl(var(--destructive))]",children:"Game Over"}),(0,n.jsxs)("p",{className:"text-2xl md:text-3xl text-white",children:["Final Score: ",(0,n.jsx)("span",{className:"text-primary font-code",children:t})]}),(0,n.jsx)(E,{onClick:a,size:"lg",className:"text-2xl px-8 py-6 mt-4",children:"Play Again"})]})}function M(e){let{score:t,onRestart:a}=e,r=[{name:"R. Tyrell",score:3850},{name:"Deckard",score:3450},{name:"Roy Batty",score:3250},{name:"Zhora",score:2500},{name:"Leon",score:2100},{name:"You",score:t}].sort((e,t)=>t.score-e.score).slice(0,5);return(0,n.jsxs)("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center z-20 gap-4 text-center p-4",children:[(0,n.jsx)("h1",{className:"text-5xl md:text-7xl text-accent drop-shadow-[0_0_10px_hsl(var(--accent))]",children:"You Win!"}),(0,n.jsxs)("div",{className:"mt-4 w-full max-w-sm bg-black/50 p-4 rounded-lg border border-primary/50",children:[(0,n.jsx)("h2",{className:"text-2xl md:text-3xl text-primary mb-4",children:"High Scores"}),(0,n.jsx)("ul",{className:"text-left font-code text-lg space-y-2",children:r.map((e,t)=>(0,n.jsxs)("li",{className:"flex justify-between p-2 rounded-md ".concat("You"===e.name?"bg-primary/30 text-white":"text-gray-400"),children:[(0,n.jsxs)("span",{className:"w-2/3 truncate",children:[t+1,". ",e.name]}),(0,n.jsx)("span",{className:"w-1/3 text-right",children:e.score})]},t))})]}),(0,n.jsxs)("p",{className:"text-xl md:text-2xl text-white mt-2",children:["Your Score: ",(0,n.jsx)("span",{className:"text-primary font-code",children:t})]}),(0,n.jsx)(E,{onClick:a,size:"lg",className:"text-2xl px-8 py-6 mt-4",children:"Play Again"})]})}function z(e){let{round:t}=e;return(0,n.jsx)("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center z-20 gap-6 text-center p-8 animate-fade-in",children:(0,n.jsxs)("h1",{className:"text-5xl md:text-7xl text-accent drop-shadow-[0_0_10px_hsl(var(--accent))]",children:["Round ",t]})})}function O(e){let{onResume:t,onRestart:a}=e;return(0,n.jsxs)("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center z-20 gap-6 text-center p-4",children:[(0,n.jsx)("h1",{className:"text-6xl md:text-8xl text-accent drop-shadow-[0_0_10px_hsl(var(--accent))]",children:"Paused"}),(0,n.jsxs)("div",{className:"flex flex-col gap-4 mt-4",children:[(0,n.jsx)(E,{onClick:t,size:"lg",className:"text-2xl px-8 py-6",children:"Resume"}),(0,n.jsx)(E,{onClick:a,size:"lg",variant:"secondary",className:"text-2xl px-8 py-6",children:"Restart"})]})]})}E.displayName="Button";let D=null,B=null,Z=null,F=!1,H=null,I=()=>(D||(D=new(window.AudioContext||window.webkitAudioContext)),D),G=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120,a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=I();if(!n||(P(),B=n.createBufferSource(),(Z=n.createGain()).gain.value=.1,!B||!Z))return;B.connect(Z),Z.connect(n.destination);let r=n.currentTime,i=60/t;if(e.forEach(e=>{if(!Z)return;let t=n.createOscillator(),a=n.createGain();t.connect(a),a.connect(Z),t.frequency.setValueAtTime(e.freq,r+e.delay*i),a.gain.setValueAtTime(1,r+e.delay*i),a.gain.exponentialRampToValueAtTime(1e-4,r+(e.delay+e.duration)*i),t.start(r+e.delay*i),t.stop(r+(e.delay+e.duration)*i)}),B&&(B.start(0),F=!0),a){let n=e.reduce((e,t)=>Math.max(e,t.delay+t.duration),0)*i*1e3;H&&clearTimeout(H),H=setTimeout(()=>G(e,t,a),n)}},P=()=>{H&&(clearTimeout(H),H=null),F&&B&&(Z&&(Z.gain.cancelScheduledValues(0),Z.gain.setValueAtTime(0,0)),B.stop(0),B.disconnect(),B=null,Z=null),F=!1},W=[{freq:98,duration:.5,delay:0},{freq:98,duration:.5,delay:1},{freq:110,duration:.5,delay:2},{freq:110,duration:.5,delay:3},{freq:123.47,duration:.5,delay:4},{freq:123.47,duration:.5,delay:5},{freq:110,duration:.5,delay:6},{freq:110,duration:.5,delay:7},{freq:196,duration:.5,delay:0},{freq:246.94,duration:.5,delay:.5},{freq:220,duration:1,delay:1},{freq:196,duration:.5,delay:2},{freq:246.94,duration:.5,delay:2.5},{freq:220,duration:1,delay:3},{freq:196,duration:.5,delay:4},{freq:246.94,duration:.5,delay:4.5},{freq:293.66,duration:1,delay:5},{freq:246.94,duration:.5,delay:6},{freq:220,duration:.5,delay:6.5},{freq:196,duration:1,delay:7}],U=[{freq:130.81,duration:.25,delay:0},{freq:130.81,duration:.25,delay:.5},{freq:130.81,duration:.25,delay:1},{freq:130.81,duration:.25,delay:1.5},{freq:146.83,duration:.25,delay:2},{freq:146.83,duration:.25,delay:2.5},{freq:164.81,duration:.25,delay:3},{freq:164.81,duration:.25,delay:3.5},{freq:261.63,duration:.25,delay:0},{freq:293.66,duration:.25,delay:.25},{freq:329.63,duration:.5,delay:.5},{freq:261.63,duration:.25,delay:1.5},{freq:293.66,duration:.25,delay:1.75},{freq:329.63,duration:.25,delay:2},{freq:349.23,duration:.5,delay:2.5},{freq:329.63,duration:.5,delay:3}],Y=[{freq:110,duration:1,delay:0},{freq:103.83,duration:1,delay:1},{freq:98,duration:2,delay:2},{freq:110,duration:.5,delay:4},{freq:103.83,duration:.5,delay:4.5},{freq:98,duration:1,delay:5}],X=()=>{G(W,130,!0)},$=()=>{G(U,160,!0)},K=()=>{G(Y,100,!0)};function Q(){let[e,t]=(0,r.useState)("start"),[a,i]=(0,r.useState)(0),[l,s]=(0,r.useState)(3),[o,d]=(0,r.useState)(1),[c,u]=(0,r.useState)(1),[x,h]=(0,r.useState)(30),[m,p]=(0,r.useState)({}),[y,f]=(0,r.useState)({id:0,x:385,y:550,width:30,height:30}),[w,v]=(0,r.useState)([]),[j,b]=(0,r.useState)([]),[T,A]=(0,r.useState)([]),[C,k]=(0,r.useState)([]),[L,q]=(0,r.useState)([]),[S,_]=(0,r.useState)(0),[E,D]=(0,r.useState)(!1),[B,Z]=(0,r.useState)(!1),[F,H]=(0,r.useState)(null),[I,G]=(0,r.useState)(null),W=(0,r.useRef)(null),U=(0,r.useCallback)(()=>{!W.current&&(window.AudioContext||window.webkitAudioContext)&&(W.current=new(window.AudioContext||window.webkitAudioContext));let e=W.current;if(!e)return;let t=e.createOscillator(),a=e.createGain();t.connect(a),a.connect(e.destination),t.type="square",t.frequency.setValueAtTime(440,e.currentTime),t.frequency.exponentialRampToValueAtTime(100,e.currentTime+.1),a.gain.setValueAtTime(.2,e.currentTime),a.gain.exponentialRampToValueAtTime(1e-4,e.currentTime+.1),t.start(e.currentTime),t.stop(e.currentTime+.1)},[]),Y=(0,r.useCallback)(()=>{!W.current&&(window.AudioContext||window.webkitAudioContext)&&(W.current=new(window.AudioContext||window.webkitAudioContext));let e=W.current;if(!e)return;let t=e.createOscillator(),a=e.createGain();t.connect(a),a.connect(e.destination),t.type="sawtooth",t.frequency.setValueAtTime(220,e.currentTime),t.frequency.exponentialRampToValueAtTime(50,e.currentTime+.1),a.gain.setValueAtTime(.15,e.currentTime),a.gain.exponentialRampToValueAtTime(1e-4,e.currentTime+.1),t.start(e.currentTime),t.stop(e.currentTime+.1)},[]),Q=(0,r.useCallback)(()=>{!W.current&&(window.AudioContext||window.webkitAudioContext)&&(W.current=new(window.AudioContext||window.webkitAudioContext));let e=W.current;if(!e)return;let t=e.createOscillator(),a=e.createGain();t.connect(a),a.connect(e.destination),t.type="triangle",t.frequency.setValueAtTime(200,e.currentTime),t.frequency.exponentialRampToValueAtTime(50,e.currentTime+.2),a.gain.setValueAtTime(.3,e.currentTime),a.gain.exponentialRampToValueAtTime(1e-4,e.currentTime+.2),t.start(e.currentTime),t.stop(e.currentTime+.2)},[]),J=(0,r.useCallback)(()=>{!W.current&&(window.AudioContext||window.webkitAudioContext)&&(W.current=new(window.AudioContext||window.webkitAudioContext));let e=W.current;if(!e)return;let t=e.createOscillator(),a=e.createGain();t.connect(a),a.connect(e.destination),t.type="sine",t.frequency.setValueAtTime(300,e.currentTime),t.frequency.exponentialRampToValueAtTime(100,e.currentTime+.3),a.gain.setValueAtTime(.4,e.currentTime),a.gain.exponentialRampToValueAtTime(1e-4,e.currentTime+.3),t.start(e.currentTime),t.stop(e.currentTime+.3)},[]),ee=(0,r.useCallback)(()=>{!W.current&&(window.AudioContext||window.webkitAudioContext)&&(W.current=new(window.AudioContext||window.webkitAudioContext));let e=W.current;if(!e)return;let t=e.createOscillator(),a=e.createGain();t.connect(a),a.connect(e.destination),t.type="triangle",t.frequency.setValueAtTime(523.25,e.currentTime),t.frequency.linearRampToValueAtTime(1046.5,e.currentTime+.2),a.gain.setValueAtTime(.2,e.currentTime),a.gain.exponentialRampToValueAtTime(1e-4,e.currentTime+.2),t.start(e.currentTime),t.stop(e.currentTime+.2)},[]),et=(0,r.useCallback)(()=>{!W.current&&(window.AudioContext||window.webkitAudioContext)&&(W.current=new(window.AudioContext||window.webkitAudioContext));let e=W.current;if(!e)return;let t=e.currentTime;[164.81,155.56,146.83,138.59].forEach(a=>{let n=e.createOscillator(),r=e.createGain();n.connect(r),r.connect(e.destination),n.type="triangle",n.frequency.setValueAtTime(a,t),r.gain.setValueAtTime(.2,t),r.gain.exponentialRampToValueAtTime(1e-4,t+.5),n.start(t),n.stop(t+.5),t+=.15})},[]),ea=(0,r.useCallback)(()=>{Z(!1),D(!1),F&&clearTimeout(F),I&&clearTimeout(I),H(null),G(null),q([])},[F,I]),en=(0,r.useCallback)(e=>{f({id:0,x:385,y:550,width:30,height:30}),v([]),A([]),k([]),h(30),ea(),6===e&&3===l?Z(!0):Z(!1);let t=[];1===e?t=[{id:Date.now(),type:"triangle",x:380,y:50,width:40,height:40,dx:2,dy:0,health:1}]:2===e?t=[{id:Date.now(),type:"pentagon",x:370,y:50,width:60,height:60,dx:3,dy:0,health:3}]:3===e?t=[{id:Date.now(),type:"square",x:375,y:50,width:50,height:50,dx:4,dy:0,health:5}]:4===e?t=[{id:Date.now(),type:"boss",x:360,y:50,width:80,height:80,dx:2,dy:0,health:10}]:5===e?t=[{id:Date.now(),type:"octagon",x:365,y:50,width:70,height:70,dx:5,dy:0,health:15}]:6===e&&(t=[{id:Date.now(),type:"hexagon",x:367.5,y:50,width:65,height:65,dx:6,dy:0,health:20}]),b(t)},[l,ea]),er=(0,r.useCallback)(()=>{P(),i(0),s(3),d(1),u(1),en(1),t("playing")},[en]),ei=(0,r.useCallback)(()=>{t("levelTransition");let e=o+1;d(e),setTimeout(()=>{en(e),t("playing")},2e3)},[o,en]),el=(0,r.useCallback)(()=>{t(e=>"playing"===e?(P(),X(),"paused"):"paused"===e?(P(),$(),"playing"):e)},[]),es=(0,r.useCallback)(()=>{t("start")},[]),eo=(e,t)=>{if(Math.random()>.2)return;let a=["EXTRA_LIFE","FAST_SHOT","SHIELD"],n=a[Math.floor(Math.random()*a.length)];q(a=>[...a,{id:Date.now(),type:n,x:e,y:t,width:25,height:25}])},ed=e=>{ee(),"EXTRA_LIFE"===e?s(e=>Math.min(3,e+1)):"FAST_SHOT"===e?(Z(!0),F&&clearTimeout(F),H(setTimeout(()=>Z(!1),1e4))):"SHIELD"===e&&(D(!0),I&&clearTimeout(I),G(setTimeout(()=>D(!1),1e4)))};(0,r.useEffect)(()=>{let t=t=>{let a=t.key.toLowerCase();"p"===a||"escape"===a?("playing"===e||"paused"===e)&&el():p(e=>({...e,[a]:!0}))},a=e=>p(t=>({...t,[e.key.toLowerCase()]:!1}));return window.addEventListener("keydown",t),window.addEventListener("keyup",a),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",a)}},[e,el]),(0,r.useEffect)(()=>("start"===e?(P(),X()):"playing"===e?(P(),$()):"gameOver"===e?(P(),K()):("win"===e||"paused"===e)&&P(),()=>{"start"!==e&&"playing"!==e&&P()}),[e]),(0,r.useEffect)(()=>{if("playing"!==e)return;let t=setInterval(()=>{h(e=>e<=1?(E||(s(e=>e-1),J(),D(!0),setTimeout(()=>D(!1),1500)),30):e-1)},1e3);return()=>clearInterval(t)},[e,J,E]),(0,r.useEffect)(()=>{let t;if("playing"!==e)return;let a=()=>{f(e=>{let t=e.x;return(m.arrowleft||m.a)&&(t-=7),(m.arrowright||m.d)&&(t+=7),{...e,x:Math.max(0,Math.min(800-e.width,t))}});let e=Date.now(),n=B?100:200;(m[" "]||m.arrowup||m.w)&&e-S>n&&(v(t=>[...t,{id:e,x:y.x+y.width/2-2.5,y:y.y,width:5,height:15}]),_(e),U()),v(e=>e.map(e=>({...e,y:e.y-10})).filter(e=>e.y>-e.height)),A(e=>e.map(e=>({...e,y:e.y+5})).filter(e=>e.y<600)),q(e=>e.map(e=>({...e,y:e.y+3})).filter(e=>e.y<600)),b(e=>e.map(e=>{var t,a;let n=e.x+(null!=(t=e.dx)?t:0),r=null!=(a=e.dx)?a:2;return n<=0||n>=800-e.width?r*=-1:.02>Math.random()&&(r*=-1),Math.random()<.01+.005*o&&(A(t=>[...t,{id:Date.now()+Math.random(),x:e.x+e.width/2-2.5,y:e.y+e.height,width:5,height:15}]),Y()),{...e,x:n,dx:r}}));let r=new Set,l=[...j];w.forEach(e=>{l.forEach((t,a)=>{if(!r.has(e.id)&&e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y){var n;r.add(e.id);let s=(null!=(n=t.health)?n:1)-1;if(s<=0){let e=l.splice(a,1)[0];i(e=>e+100),h(30);let t={id:e.id,x:e.x,y:e.y,width:e.width,height:e.height};k(e=>[...e,t]),eo(e.x+e.width/2,e.y+e.height/2),Q(),setTimeout(()=>k(e=>e.filter(e=>e.id!==t.id)),300)}else l[a]={...t,health:s}}})}),r.size>0&&(b(l),v(e=>e.filter(e=>!r.has(e.id))));let d=!1,c=new Set;E||T.forEach(e=>{e.x<y.x+y.width&&e.x+e.width>y.x&&e.y<y.y+y.height&&e.y+e.height>y.y&&(d=!0,c.add(e.id))}),d&&(s(e=>e-1),J(),D(!0),setTimeout(()=>D(!1),1500)),c.size>0&&A(e=>e.filter(e=>!c.has(e.id)));let u=new Set;L.forEach(e=>{e.x<y.x+y.width&&e.x+e.width>y.x&&e.y<y.y+y.height&&e.y+e.height>y.y&&(ed(e.type),u.add(e.id))}),u.size>0&&q(e=>e.filter(e=>!u.has(e.id))),t=requestAnimationFrame(a)};return t=requestAnimationFrame(a),()=>cancelAnimationFrame(t)},[e,m,y.x,y.y,S,j,w,T,E,o,U,Q,Y,J,B,L,ee]),(0,r.useEffect)(()=>{"playing"===e&&l<=0&&(et(),t("gameOver"))},[l,e,et]),(0,r.useEffect)(()=>{"playing"===e&&0===j.length&&(o<6?ei():t("win"))},[j,o,e,ei]);let ec=(0,r.useMemo)(()=>{switch(e){case"start":return(0,n.jsx)(R,{onStart:er});case"gameOver":return(0,n.jsx)(V,{score:a,onRestart:er});case"win":return(0,n.jsx)(M,{score:a,onRestart:er});case"levelTransition":return(0,n.jsx)(z,{round:o});case"paused":return(0,n.jsx)(O,{onResume:el,onRestart:es});case"playing":return(0,n.jsx)(g,{player:y,playerShots:w,opponents:j,enemyShots:T,explosions:C,powerUps:L,isInvincible:E});default:return null}},[e,a,er,y,w,j,T,C,L,o,E,el,es]);return(0,n.jsxs)("main",{className:"flex flex-col items-center justify-center min-h-screen p-4 overflow-hidden",children:[(0,n.jsxs)("div",{className:"relative",style:{width:800,height:600},children:[("playing"===e||"levelTransition"===e||"paused"===e)&&(0,n.jsx)(N,{score:a,lives:l,timeLeft:x,powerUpActive:B,shieldActive:E}),ec]}),(0,n.jsxs)("div",{className:"text-center mt-4 text-xs max-w-2xl text-muted-foreground font-code px-4",children:[(0,n.jsx)("p",{children:"Use Arrow Keys or A/D to move. Use Space, Up Arrow, or W to shoot. P/Esc to pause."}),(0,n.jsx)("p",{className:"mt-2",children:"\xa9 2025 Hugo Roll\xe1n. All rights reserved."})]})]})}},1508:(e,t,a)=>{Promise.resolve().then(a.bind(a,298))},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var n=a(2596),r=a(9688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,n.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[511,441,684,358],()=>t(1508)),_N_E=e.O()}]);